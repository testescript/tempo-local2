<!DOCTYPE html>
<html lang="pt">
 <head>
  <meta charset="utf-8"/>
  <title>
   Condições Atuais
  </title>
  <link href="style.css" rel="stylesheet"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
 </head>
 <body>
  <nav>
   <a href="index.html">
    Início
   </a>
   <a href="avisos.html">
    Avisos
   </a>
   <a href="condicoes.html">
    Condições
   </a>
   <a href="previsao.html">
    Previsão
   </a>
   <a href="mares.html">
    Marés &amp; Lua
   </a>
   <a href="sensores.html">
    Sensores
   </a>
   <a href="historico.html">
    Histórico
   </a>
   <a href="NASA - Imagens Espaciais.html">
    Nasa
   </a>
  </nav>
  <script>
   const LAT = 39.3581;
  const LON = -9.1579;
  const OWM_API_KEY = 'cd841c18c5722b58544e13701456c88f';

  async function carregarCondicoes() {
    const ul = document.getElementById("condicoes");
    try {
      const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${LAT}&lon=${LON}&appid=${OWM_API_KEY}&lang=pt&units=metric`);
      const data = await response.json();

      ul.classList.remove('loading');
      ul.innerHTML = `
        <li>Temperatura: ${data.main.temp} °C</li>
        <li>Vento: ${data.wind.speed} m/s</li>
        <li>Umidade: ${data.main.humidity} %</li>
        <li>Pressão: ${data.main.pressure} hPa</li>
      `;
    } catch (error) {
      ul.textContent = "Erro ao carregar dados das condições atuais.";
      console.error(error);
    }
  }

  carregarCondicoes();
  </script>
  <main>
   <h1>
    Condições Atuais
   </h1>
   <ul class="loading" id="condicoes">
    <li>
     Carregando dados...
    </li>
   </ul>
  </main>
 </body>
</html>